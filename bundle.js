/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={1637(e){e.exports="assets/02_menu/Menu_01_BG.png"},1472(e){e.exports="assets/02_menu/Menu_02_Btn1.png"},155(e){e.exports="assets/02_menu/Menu_02_Btn2.png"},4491(e){e.exports="assets/03_liveview/Btn_Back.png"},5566(e){e.exports="assets/03_liveview/Btn_Capture.png"},6777(e){e.exports="assets/03_liveview/Btn_Record.png"},7653(e){e.exports="assets/03_liveview/Btn_Recording.png"},3785(e){e.exports="assets/03_liveview/Btn_Reset.png"},534(e){e.exports="assets/03_liveview/Btn_Switch.png"},3922(e){e.exports="assets/03_liveview/Forset01_IMG_click.png"},9928(e){e.exports="assets/03_liveview/Forset01_IMG_floor.png"},4159(e){e.exports="assets/03_liveview/Forset02-1_Text_Linepay.png"},2126(e){e.exports="assets/03_liveview/Forset02-2_Text_Card.png"},5175(e){e.exports="assets/03_liveview/Forset02-3_Text_LR.png"},7201(e){e.exports="assets/03_liveview/Forset02-4_Text_1.png"},6122(e){e.exports="assets/03_liveview/Forset02-4_Text_2.png"},1683(e){e.exports="assets/03_liveview/Forset02-4_Text_3.png"},4284(e){e.exports="assets/03_liveview/Forset02-4_Text_4.png"},6549(e){e.exports="assets/03_liveview/Forset02-4_Text_5.png"},2684(e){e.exports="assets/03_liveview/Forset02-4_Text_Smile.png"},2052(e){e.exports="assets/03_liveview/Forset02-5_Text_Face.png"},3449(e){e.exports="assets/03_liveview/Gift01_IMG_roof.png"},4904(e){e.exports="assets/03_liveview/Gift02-1_Text_roof.png"},2295(e){e.exports="assets/03_liveview/Gift02-2_Text_Gift.png"},7666(e){e.exports="assets/04_loading/Loading01_BG.png"},8765(e){e.exports="assets/05_result/Result01_BG.png"},7204(e){e.exports="assets/05_result/Result03_Btn_Back.png"},9025(e){e.exports="assets/05_result/Result03_Btn_Download.png"},919(e){e.exports="assets/05_result/Result03_Btn_Retry.png"},7742(e){e.exports="assets/en/02_menu/Menu_01_BG.png"},4884(e){e.exports="assets/en/02_menu/Menu_02_Btn1.png"},7343(e){e.exports="assets/en/02_menu/Menu_02_Btn2.png"},4775(e){e.exports="assets/en/03_liveview/Btn_Back.png"},9930(e){e.exports="assets/en/03_liveview/Btn_Capture.png"},2205(e){e.exports="assets/en/03_liveview/Btn_Record.png"},6145(e){e.exports="assets/en/03_liveview/Btn_Recording.png"},1557(e){e.exports="assets/en/03_liveview/Btn_Reset.png"},8066(e){e.exports="assets/en/03_liveview/Btn_Switch.png"},6846(e){e.exports="assets/en/03_liveview/Forset01_IMG_click.png"},6060(e){e.exports="assets/en/03_liveview/Forset01_IMG_floor.png"},131(e){e.exports="assets/en/03_liveview/Forset02-1_Text_Linepay.png"},1706(e){e.exports="assets/en/03_liveview/Forset02-2_Text_Card.png"},4227(e){e.exports="assets/en/03_liveview/Forset02-3_Text_LR.png"},2408(e){e.exports="assets/en/03_liveview/Forset02-4_Text_Smile.png"},3392(e){e.exports="assets/en/03_liveview/Forset02-5_Text_Face.png"},9141(e){e.exports="assets/en/03_liveview/Gift01_IMG_roof.png"},5932(e){e.exports="assets/en/03_liveview/Gift02-1_Text_roof.png"},267(e){e.exports="assets/en/03_liveview/Gift02-2_Text_Gift.png"},5254(e){e.exports="assets/en/04_loading/Loading01_BG.png"},4465(e){e.exports="assets/en/05_result/Result01_BG.png"},4296(e){e.exports="assets/en/05_result/Result03_Btn_Back.png"},4413(e){e.exports="assets/en/05_result/Result03_Btn_Download.png"},8883(e){e.exports="assets/en/05_result/Result03_Btn_Retry.png"},2230(){var e={schema:{src:{type:"map"},color:{default:{x:0,y:1,z:1},type:"vec3",is:"uniform"},opacity:{default:1},transparent:{default:!0,is:"uniform"}},init:function(e){var t=new THREE.VideoTexture(e.src);t.minFilter=THREE.LinearFilter,this.material=new THREE.ShaderMaterial({uniforms:{color:{type:"c",value:e.color},myTexture:{type:"t",value:t},opacity:{type:"f",value:e.opacity}},vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material.opacity=e.opacity},update:function(e){this.material.color=e.color,this.material.src=e.src,this.material.transparent=e.transparent,this.material.opacity=e.opacity,this.material.uniforms.opacity.value=e.opacity,this.material.uniformsNeedUpdate=!0},vertexShader:["varying vec2 vUv;","void main(void)","{","vUv = uv;","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform sampler2D myTexture;","uniform vec3 color;","uniform float opacity;","varying vec2 vUv;","void main(void)","{","  vec4 sampledColor = texture2D( myTexture, vUv );","  float dist = length(sampledColor.rgb - color);","  if (dist < 0.45) {","    discard;","  }","  gl_FragColor = vec4(sampledColor.rgb, opacity);","}"].join("\n")};AFRAME.registerShader("chroma-key-shader",e),AFRAME.registerComponent("force-visible",{init:function(){this.mesh=this.el.object3D.children[0]||this.el.object3D},tick:function(){var e=this.el.sceneEl;!1===e.object3D.visible&&(e.object3D.visible=!0)}})},8313(e,t,n){"use strict";n.d(t,{A:()=>ee});var r=n(8645),o=n.n(r),i=n(278),a=n.n(i),c=n(3021),s=n.n(c),u=new URL(n(2739),n.b),l=new URL(n(5783),n.b),d=new URL(n(2944),n.b),p=new URL(n(1825),n.b),m=new URL(n(746),n.b),b=new URL(n(9584),n.b),g=new URL(n(7570),n.b),f=new URL(n(25),n.b),y=new URL(n(1632),n.b),v=new URL(n(5022),n.b),h=new URL(n(8187),n.b),x=new URL(n(4185),n.b),k=new URL(n(3376),n.b),w=new URL(n(2846),n.b),_=new URL(n(7826),n.b),I=new URL(n(5361),n.b),B=new URL(n(9738),n.b),E=new URL(n(6207),n.b),S=new URL(n(2996),n.b),A=new URL(n(3914),n.b),R=new URL(n(3582),n.b),T=new URL(n(3179),n.b),j=a()(o()),L=s()(u),q=s()(l),M=s()(d),z=s()(p),F=s()(m),C=s()(b),U=s()(g),O=s()(f),P=s()(y),G=s()(v),D=s()(h),$=s()(x),N=s()(k),X=s()(w),H=s()(_),W=s()(I),V=s()(B),J=s()(E),K=s()(S),Y=s()(A),Q=s()(R),Z=s()(T);j.push([e.id,`#version {\n  position: fixed;\n  top: 0;\n  right: 5%;\n  color: #fff;\n  z-index: 99;\n}\n#layout {\n  position: absolute;\n  display: none;\n  width: 100%;\n  height: auto;\n  padding-bottom: 177.7%;\n  top: 0%;\n  left: 0%;\n  z-index: 99;\n  background-image: url(${L});\n  background-size: 100% 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n  opacity: 0.3;\n}\n\n#landscape-hint {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0%;\n  left: 0%;\n  z-index: 99;\n  background-color: rgba(0, 0, 0, 0.8);\n  background-image: url(${q});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\nhtml,\nbody {\n  background-color: #000;\n  margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  /* touch-action: none; */\n}\n\n#app-container {\n  position: fixed;\n  aspect-ratio: 9 / 16;\n  height: 100dvh;\n  width: calc(100dvh * 9 / 16);\n  max-width: 100vw;\n  max-height: calc(100vw * 16 / 9);\n  background: transparent;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  top: 0;\n}\n\n#p1 {\n  position: relative;\n  box-sizing: border-box;\n  display: flex; /*  flex */\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 6;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-image: url(${M});\n  background-size: contain;\n  background-position: top center;\n  background-repeat: no-repeat;\n  /* opacity: 0.7; */\n}\n\n.content-container-p1 {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 17%;\n  /* background-color: aquamarine; */\n  width: 80%;\n}\n\n#start-btn-1 {\n  width: 85%;\n  height: 100px;\n  background: none;\n  border: none;\n  z-index: 2;\n  background-image: url(${z});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  animation: opacity 0.5s ease;\n  cursor: grab;\n}\n\n#start-btn-1:active {\n  opacity: 0.7;\n}\n\n#start-btn-2 {\n  width: 85%;\n  height: 100px;\n  background: none;\n  border: none;\n  z-index: 2;\n  background-image: url(${F});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  animation: opacity 0.5s ease;\n  cursor: grab;\n}\n\n#start-btn-2:active {\n  opacity: 0.7;\n}\n\n.user-data {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n  position: absolute;\n  bottom: 0;\n  /* background-color: #8dafcf; */\n  width: 100%;\n  height: 9%;\n  box-sizing: border-box;\n  padding-left: 12%;\n  padding-right: 12%;\n  overflow: hidden;\n}\n\n.user-profile {\n  background-color: transparent;\n  width: 6vh;\n  height: 6vh;\n  flex-shrink: 0;\n  border-radius: 50%;\n  overflow: hidden;\n  border: 1px solid #ffffff;\n}\n\n.user-profile img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  /* content: url('./assets/02_menu/guest.png'); */\n}\n\n.user-name {\n  /* background-color: #063264; */\n  color: #fff;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n}\n\n#p2 {\n  display: block; /* block */\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0%;\n  left: 0%;\n  z-index: 1;\n  background-color: #fff;\n}\n\n.viewfinder-wrapper {\n  position: relative;\n  /* margin: auto; */\n  width: 100%; /* ÊéßÂà∂Áï´Èù¢ÂØ¨Â∫¶ */\n  height: 100%;\n}\n\n#viewfinder-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  /* ‰ΩøÁî® padding-bottom ÊäÄÂ∑ß‰æÜÁ∂≠ÊåÅÂõ∫ÂÆöÁöÑÈï∑ÂØ¨ÊØî (‰æãÂ¶Ç 16:9 ÁöÑÁõ¥ÂºèÊòØ 177.77%) */\n  /* padding-bottom: 177%; */\n  overflow: hidden;\n  background-color: #000;\n}\n\n.ar-view {\n  position: absolute;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  top: 0%;\n  left: 0%;\n  background-color: #000;\n  border: none;\n}\n\n#ar-view a-scene {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n/* 1. 3D Ê∏≤ÊüìÂ±§ (Canvas) */\n#ar-view canvas.a-canvas {\n  width: 100% !important;\n  height: 100% !important;\n  top: 0 !important;\n  left: 0 !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  position: absolute !important;\n}\n\n/* 2. ÊîùÂΩ±Ê©üÁï´Èù¢Â±§ (Video) */\n/* ÈÄôÊòØÊúÄÂÆπÊòìÂá∫ÂïèÈ°åÁöÑÂú∞ÊñπÔºåÂ¶ÇÊûú‰∏çÂä†ÈÄôÂÄãÔºåÊîùÂΩ±Ê©üÁï´Èù¢ÂèØËÉΩÊúÉËÆäÊàêÂÖ®Ëû¢ÂπïËìã‰Ωè‰ªãÈù¢ */\n#ar-view video {\n  width: 100% !important;\n  height: 100% !important;\n  object-fit: cover !important; /* Á¢∫‰øùÁï´Èù¢Â°´Êªø‰∏î‰∏çËÆäÂΩ¢ */\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  z-index: -1 !important; /* Á¢∫‰øùÊîùÂΩ±Ê©üÁï´Èù¢Âú® 3D Áâ©‰ª∂ÂæåÈù¢ */\n}\n\n#hint {\n  display: none;\n  position: absolute;\n  width: 80%;\n  height: 20%;\n  top: 0px;\n  left: 50%;\n  background-image: url(${C});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  transform: translateX(-50%);\n  z-index: 99;\n}\n\n#hint-countdown-num {\n  display: none;\n  position: absolute;\n  width: 30%;\n  height: 10%;\n  top: 15%;\n  left: 50%;\n  background-image: url(${U});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  transform: translateX(-50%);\n  z-index: 99;\n}\n\n#hint-placing {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0%;\n  left: 0%;\n  z-index: 5;\n  background-image: url(${O});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  pointer-events: none;\n}\n\n.controls-bar-container {\n  z-index: 99;\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.controls-bar {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  display: flex;\n  justify-content: space-around;\n  align-items: flex-end;\n  background-image: url(${P});\n  background-size: 90%;\n  background-position: center;\n  background-repeat: no-repeat;\n  margin-bottom: 14px;\n  /* background-color: #000; */\n  padding: 0 10% 2% 10%;\n  box-sizing: border-box;\n}\n\n.control-item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transform: translateY(-10px);\n}\n\n.control-btn {\n  background: none;\n  width: 50px;\n  height: 70px;\n  border: none;\n  cursor: grab;\n  animation: opacity 0.5s ease;\n}\n\n.control-btn:active {\n  opacity: 0.7;\n}\n#back-btn {\n  background-image: url(${G});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n#switch-btn {\n  background-image: url(${D});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#capture-btn {\n  background-image: url(${$});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#record-btn {\n  display: block;\n  background-image: url(${N});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  z-index: 10;\n}\n\n#stop-rec-btn {\n  display: none;\n  background-image: url(${X});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n/* #btn-focus-hint {\n  width: 180%;\n  height: auto;\n  transform: translate(-22%, -19%);\n} */\n/* ÂÆπÂô®ÔºöÊ±∫ÂÆöÊåâÈàïÂú® 9:16 Á∂≤È†Å‰∏≠ÁöÑ‰ΩçÁΩÆ */\n#btn-focus-hint {\n  width: 180%;\n  height: auto;\n  transform: translate(-22%, -19%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1; /* Á¢∫‰øùÂú® AR UI ÁöÑ‰∏äÂ±§ */\n  pointer-events: none;\n}\n\n/* ÂÆöÁæ©Ê≥¢Á¥ãÈÄöÁî®Ê®£Âºè */\n#ripple-wrapper::before,\n#ripple-wrapper::after {\n  content: '';\n  position: absolute;\n  top: -6%;\n  left: -5%;\n  width: 98%;\n  height: 75.8%;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0);\n  border: solid 4px #fff;\n\n  z-index: 1; /* ‰ΩéÊñºÂúñÁâá */\n  animation: ripple-animation 2s infinite cubic-bezier(0, 0, 0.2, 1);\n  will-change: transform, opacity;\n  backface-visibility: hidden;\n}\n#ripple-wrapper::before {\n  opacity: 0.8;\n}\n#ripple-wrapper::after {\n  opacity: 0;\n}\n\n/* Á¨¨‰∫åÂ±§Ê≥¢Á¥ãÂª∂ÈÅ≤ 1 ÁßíÔºåÁî¢Áîü‰∫§ÈåØÊÑü */\n#ripple-wrapper::after {\n  animation-delay: 1s;\n}\n\n/* Ê≥¢Á¥ãÊì¥Êï£ÂãïÁï´ */\n@keyframes ripple-animation {\n  0% {\n    transform: scale(0.9);\n    opacity: 0.8;\n  }\n  100% {\n    transform: scale(1.3);\n    opacity: 0;\n  }\n}\n\n#stop-rec-btn,\n#record-btn {\n  width: 65px;\n  height: 85px;\n}\n\n#reset-btn {\n  background-image: url(${H});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#p3 {\n  position: absolute;\n  display: none; /* flex */\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 6;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-image: url(${W});\n  background-size: 100% 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#progress-bar-border {\n  width: 65%;\n  height: 3%;\n  z-index: 12;\n  background-color: #fff;\n  border: solid 2px #fff;\n  border-radius: 3px;\n}\n\n#progress-bar {\n  position: relative;\n  width: 0%;\n  left: 0%;\n  background-color: #00c24d;\n  border: solid 2px #fff;\n  border-radius: inherit;\n  padding: 3% 0 3% 0;\n}\n\n#p4 {\n  position: absolute;\n  display: none; /*flex */\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  background-image: url(${V});\n  background-size: 100% 100%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#preview {\n  display: none;\n  background: rgba(0, 0, 0, 0);\n  width: 40%;\n  height: 40%;\n  margin-top: 34.5%;\n  box-sizing: border-box;\n  margin-bottom: 3%;\n}\n\n#preview-img {\n  display: none;\n  background: rgba(0, 0, 0, 0);\n  width: 40%;\n  margin-top: 34.5%;\n  box-sizing: border-box;\n  margin-bottom: 3%;\n}\n\n#preview-tag1 {\n  display: none;\n  position: absolute;\n  width: 21%;\n  height: 7%;\n  top: 20.5%;\n  left: 21%;\n  background: none;\n  border: none;\n  z-index: 2;\n  background-image: url(${J});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#preview-tag2 {\n  display: none;\n  position: absolute;\n  width: 21%;\n  height: 7%;\n  top: 20.5%;\n  left: 21%;\n  background: none;\n  border: none;\n  z-index: 2;\n  background-image: url(${K});\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#btn-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 58%;\n  height: 27%;\n}\n\n.result-btn {\n  width: 100%;\n  height: 80px;\n  background: none;\n  border: none;\n  z-index: 2;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  animation: opacity 0.5s ease;\n  cursor: grab;\n}\n\n.result-btn:active {\n  opacity: 0.7;\n}\n\n#save-btn {\n  background-image: url(${Y});\n}\n\n#again-btn {\n  background-image: url(${Q});\n}\n\n#result-back-btn {\n  background-image: url(${Z});\n}\n`,""]);const ee=j},278(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var u=0;u<e.length;u++){var l=[].concat(e[u]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},3021(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8645(e){"use strict";e.exports=function(e){return e[1]}},5292(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var s=e[c],u=r.base?s[0]+r.base:s[0],l=i[u]||0,d="".concat(u," ").concat(l);i[u]=l+1;var p=n(d),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var b=o(m,r);r.byIndex=c,t.splice(c,0,{identifier:d,updater:b,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);t[c].references--}for(var s=r(e,o),u=0;u<i.length;u++){var l=n(i[u]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=s}}},9383(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9088(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},6884(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},9893(e){"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7997(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2944(e,t,n){"use strict";e.exports=n.p+"41eb2fa5fd5ed034f53c.png"},1825(e,t,n){"use strict";e.exports=n.p+"277f0b7c1efd07ce3484.png"},746(e,t,n){"use strict";e.exports=n.p+"e4c47711fadfb64c71dc.png"},5022(e,t,n){"use strict";e.exports=n.p+"ef2abf8483394705f080.png"},4185(e,t,n){"use strict";e.exports=n.p+"e8fb4e7a613ecfd7310f.png"},3376(e,t,n){"use strict";e.exports=n.p+"23fa4f4b84680ed8e418.png"},2846(e,t,n){"use strict";e.exports=n.p+"811a94a73cdfe6eb9cfe.png"},7826(e,t,n){"use strict";e.exports=n.p+"52936ec7fc2b77281c33.png"},8187(e,t,n){"use strict";e.exports=n.p+"0c177869ac2008de2a6f.png"},1632(e,t,n){"use strict";e.exports=n.p+"b93f0697a6bd85395721.png"},25(e,t,n){"use strict";e.exports=n.p+"4f4e4b9b0187281a16d6.png"},9584(e,t,n){"use strict";e.exports=n.p+"cae57de1c3b96e11ceb3.png"},7570(e,t,n){"use strict";e.exports=n.p+"511eac1267cd5de7ed71.png"},5361(e,t,n){"use strict";e.exports=n.p+"135ea66643cbff34e8f7.png"},9738(e,t,n){"use strict";e.exports=n.p+"e8e9e4922fee2524e18e.png"},6207(e,t,n){"use strict";e.exports=n.p+"7ea62045b9917480199c.png"},2996(e,t,n){"use strict";e.exports=n.p+"0a484203ca8c7d8245ea.png"},3179(e,t,n){"use strict";e.exports=n.p+"d9649a24797b1b7adcd4.png"},3914(e,t,n){"use strict";e.exports=n.p+"b3464dc9838a55da6b62.png"},3582(e,t,n){"use strict";e.exports=n.p+"473cfc71bd381a8b23ea.png"},5783(e,t,n){"use strict";e.exports=n.p+"f39748cf512c4b645dba.png"},2739(e,t,n){"use strict";e.exports=n.p+"787b92983379bca13be2.png"},7114(e){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},9535(e,t,n){var r=n(9736);function o(){var t,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.toStringTag||"@@toStringTag";function s(e,o,i,a){var c=o&&o.prototype instanceof l?o:l,s=Object.create(c.prototype);return r(s,"_invoke",function(e,r,o){var i,a,c,s=0,l=o||[],d=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return i=e,a=0,c=t,p.n=n,u}};function m(e,r){for(a=e,c=r,n=0;!d&&s&&!o&&n<l.length;n++){var o,i=l[n],m=p.p,b=i[2];e>3?(o=b===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=m&&((o=e<2&&m<i[1])?(a=0,p.v=r,p.n=i[1]):m<b&&(o=e<3||i[0]>r||r>b)&&(i[4]=e,i[5]=r,p.n=b,a=0))}if(o||e>1)return u;throw d=!0,r}return function(o,l,b){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&m(l,b),a=l,c=b;(n=a<2?t:c)||!d;){i||(a?a<3?(a>1&&(p.n=-1),m(a,c)):p.n=c:p.v=c);try{if(s=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(d=p.n<0)?c:e.call(r,p))!==u)break}catch(e){i=t,a=1,c=e}finally{s=1}}return{value:n,done:d}}}(e,i,a),!0),s}var u={};function l(){}function d(){}function p(){}n=Object.getPrototypeOf;var m=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),b=p.prototype=l.prototype=Object.create(m);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,r(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e}return d.prototype=p,r(b,"constructor",p),r(p,"constructor",d),d.displayName="GeneratorFunction",r(p,c,"GeneratorFunction"),r(b),r(b,c,"Generator"),r(b,a,function(){return this}),r(b,"toString",function(){return"[object Generator]"}),(e.exports=o=function(){return{w:s,m:g}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},2507(e,t,n){var r=n(6313);e.exports=function(e,t,n,o,i){var a=r(e,t,n,o,i);return a.next().then(function(e){return e.done?e.value:a.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},6313(e,t,n){var r=n(9535),o=n(3929);e.exports=function(e,t,n,i,a){return new o(r().w(e,t,n,i),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},3929(e,t,n){var r=n(7114),o=n(9736);e.exports=function e(t,n){function i(e,o,a,c){try{var s=t[e](o),u=s.value;return u instanceof r?n.resolve(u.v).then(function(e){i("next",e,a,c)},function(e){i("throw",e,a,c)}):n.resolve(u).then(function(e){s.value=e,a(s)},function(e){return i("throw",e,a,c)})}catch(e){c(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),o(this,"_invoke",function(e,t,r){function o(){return new n(function(t,n){i(e,r,t,n)})}return a=a?a.then(o,o):o()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},9736(e){function t(n,r,o,i){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}e.exports=t=function(e,n,r,o){function i(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?a?a(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(i("next",0),i("throw",1),i("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r,o,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5315(e){e.exports=function(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},3051(e,t,n){var r=n(7114),o=n(9535),i=n(2507),a=n(6313),c=n(3929),s=n(5315),u=n(6961);function l(){"use strict";var t=o(),n=t.m(l),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var m={throw:1,return:2,break:3,continue:3};function b(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,m[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,u(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(e.exports=l=function(){return{wrap:function(e,n,r,o){return t.w(b(e),n,r,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new r(e,t)},AsyncIterator:c,async:function(e,t,n,r,o){return(p(t)?a:i)(b(e),t,n,r,o)},keys:s,values:u}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=l,e.exports.__esModule=!0,e.exports.default=e.exports},6961(e,t,n){var r=n(564).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(r(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},564(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1790(e,t,n){var r=n(3051)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";function e(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){var a=t.apply(n,r);function c(t){e(a,o,i,c,s,"next",t)}function s(t){e(a,o,i,c,s,"throw",t)}c(void 0)})}}var r=n(1790),o=n.n(r),i=n(5292),a=n.n(i),c=n(9893),s=n.n(c),u=n(9383),l=n.n(u),d=n(6884),p=n.n(d),m=n(9088),b=n.n(m),g=n(7997),f=n.n(g),y=n(8313),v={};v.styleTagTransform=f(),v.setAttributes=p(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=b(),a()(y.A,v),y.A&&y.A.locals&&y.A.locals,n(2230);var h={ch:{p1:n(1637),startBtn1:n(1472),startBtn2:n(155),hint:n(4159),hintPlacing:n(9928),btnBack:n(4491),btnCapture:n(5566),btnRecord:n(6777),btnRecording:n(7653),btnReset:n(3785),btnSwitch:n(534),p3:n(7666),p4:n(8765),resultBtnBack:n(7204),btnAgain:n(919),btnDownload:n(9025),hintText:n(5175),hintTextCountDown:n(2684),displayName:"Ë®™ÂÆ¢"},en:{p1:n(7742),startBtn1:n(4884),startBtn2:n(7343),hint:n(131),hintPlacing:n(6060),btnBack:n(4775),btnCapture:n(9930),btnRecord:n(2205),btnRecording:n(6145),btnReset:n(1557),btnSwitch:n(8066),p3:n(5254),p4:n(4465),resultBtnBack:n(4296),btnAgain:n(8883),btnDownload:n(4413),hintText:n(4227),hintTextCountDown:n(2408),displayName:"Guest"}},x=[{hint:n(4159),placing:n(9928)},{hint:n(2126),placing:n(3922)},{hint:n(2052),placing:n(3922)}],k=[{hint:n(131),placing:n(6060)},{hint:n(1706),placing:n(6846)},{hint:n(3392),placing:n(6846)}],w=[{hint:n(4904),placing:n(3449)},{hint:n(2295),placing:n(3922)},{hint:n(2052),placing:n(3922)}],_=[{hint:n(5932),placing:n(9141)},{hint:n(267),placing:n(6846)},{hint:n(3392),placing:n(6846)}];function I(e,t,n){for(var r=e.split(","),o=r[0].match(/:(.*?);/)[1]||n,i=atob(r[1]),a=i.length,c=new Uint8Array(a);a--;)c[a]=i.charCodeAt(a);var s=new Blob([c],{type:o});return new File([s],t,{type:o})}function B(e,t){var n=document.querySelector(e);if(!n)return!1;switch(t){case"play":return n.setAttribute("animation-mixer",{timeScale:1,loop:"once",clampWhenFinished:!0}),!0;case"pause":return n.setAttribute("animation-mixer","timeScale",0),!0;case"reset":return n.removeAttribute("animation-mixer"),setTimeout(function(){if(n.setAttribute("animation-mixer",{clip:"*",loop:"once",clampWhenFinished:!0}),n.setAttribute("animation-mixer","timeScale",0),n.components["animation-mixer"]){var e=n.components["animation-mixer"].mixer;e&&e.setTime(0)}},10),!0;default:return!1}}var E,S,A,R=!1,T=!1,j=!1,L=!1,q=!1,M=!1,z="back",F=new URLSearchParams(window.location.search),C=Math.floor(3*Math.random()),U="ch",O=localStorage.getItem("lan")||"ch",P=localStorage.getItem("linelogin")||"false",G="https://directusflow-g4avegeueq-de.a.run.app/",D=null,$=null,N=null,X="";function H(e){if(null!==document.querySelector("#debug")){var t=document.querySelector("#debug");t.innerHTML+="".concat(e,"<br>"),setTimeout(function(){t.scrollTop=t.scrollHeight},0)}else window.console.log(e)}function W(){var e=document.querySelector("#landscape-hint");document.documentElement.clientWidth>=document.documentElement.clientHeight?e.style.display="block":e.style.display="none"}function V(e){return J.apply(this,arguments)}function J(){return(J=t(o().mark(function e(t){var n,r,i,a,c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(G,"/api/update"),r={project:"linepay_webar",access_token:S,update:{state:String(t)}},e.prev=1,e.next=2,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return i=e.sent,e.next=3,i.json();case 3:if(!(a=e.sent).success){e.next=4;break}return H("‚úÖ State Êõ¥Êñ∞ÊàêÂäü: ".concat(t)),C=t,e.abrupt("return",!0);case 4:return H("‚ùå State Êõ¥Êñ∞Â§±Êïó: ".concat(a.msg)),e.abrupt("return",!1);case 5:e.next=7;break;case 6:return e.prev=6,c=e.catch(1),H("‚ö†Ô∏è Êõ¥Êñ∞Ë´ãÊ±ÇÈåØË™§: ".concat(c)),e.abrupt("return",!1);case 7:case"end":return e.stop()}},e,null,[[1,6]])}))).apply(this,arguments)}function K(e){var t=document.querySelector("#frame"),n="#frame".concat(C+1),r=document.querySelector(n);if(t.material,e!==N){if(t.removeAttribute("material"),t.setAttribute("material",{shader:"chroma-key-shader",src:n,color:"0 1 1",opacity:.999}),r){if(null!==N){var o="#frame".concat(N+1),i=document.querySelector(o);i&&i!==r&&i.pause()}r.currentTime=0,r.play(),N=e}H("ÂΩ±ÁâáID:".concat(n))}else H("ÊøæÈè°Á¥¢Âºï ".concat(e," Â∑≤Á∂ìÂú®Êí≠Êîæ‰∏≠ÔºåË∑≥ÈÅéÈáçÂïü„ÄÇ"))}function Y(){return Q.apply(this,arguments)}function Q(){return(Q=t(o().mark(function e(){var t,n,r,i,a,c,s,u,l,d,p,m;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(G,"/api/login/line"),n=document.querySelectorAll(".user-name"),r={project:"linepay_webar",access_token:S},e.prev=1,e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:return i=e.sent,e.next=3,i.json();case 3:if(!(a=e.sent).success){e.next=4;break}return H("‚úÖ API ÁôªÂÖ•ÊàêÂäü: "),c=a.data.display_name,s=a.data.picture_url,u=a.data.state,l=a.data.image,c&&n.forEach(function(e){e.textContent=c}),s&&document.querySelectorAll(".user-profile img").forEach(function(e){e.src=s}),null!==u?C=parseInt(u,10):V(C),K(C),null!==l&&(E=l,(d=document.getElementById("gift-photo"))&&(d.crossOrigin="anonymous",d.setAttribute("src",E),(p=document.querySelector("#gift-photo-model"))&&(p.setAttribute("src",""),p.setAttribute("src","#gift-photo")))),e.abrupt("return",a.data);case 4:return H("‚ùå API ÁôªÂÖ•Â§±Êïó: ".concat(a.msg)),e.abrupt("return",null);case 5:e.next=7;break;case 6:return e.prev=6,m=e.catch(1),H("‚ö†Ô∏è Á∂≤Ë∑ØË´ãÊ±ÇÈåØË™§: ".concat(m)),e.abrupt("return",null);case 7:case"end":return e.stop()}},e,null,[[1,6]])}))).apply(this,arguments)}var Z=window.liff;function ee(){return(ee=t(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,Z.init({liffId:"2008860067-KizTeUpq"});case 1:Z.isLoggedIn()?(S=Z.getAccessToken(),Y()):Z.login();case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=t(o().mark(function e(t){var n,r,i,a,c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(G,"/api/upload"),(r=new FormData).append("access_token",S),r.append("project","linepay_webar"),r.append("result_field","image"),r.append("file",t,"capture.jpg"),e.prev=1,e.next=2,fetch(n,{method:"POST",body:r});case 2:return i=e.sent,e.next=3,i.json();case 3:if(!(a=e.sent).success){e.next=4;break}return H("‚úÖ ÂúñÁâá‰∏äÂÇ≥ÊàêÂäü"),e.abrupt("return",a.data);case 4:return H("‚ùå ‰∏äÂÇ≥Â§±Êïó: ".concat(a.msg)),e.abrupt("return",null);case 5:e.next=7;break;case 6:return e.prev=6,c=e.catch(1),H("‚ö†Ô∏è ‰∏äÂÇ≥Ë´ãÊ±ÇÈåØË™§: ".concat(c)),e.abrupt("return",null);case 7:case"end":return e.stop()}},e,null,[[1,6]])}))).apply(this,arguments)}function re(e){var t,n;"ch"===O?(t=x,n=w):"en"===O&&(t=k,n=_);var r=document.querySelector("#hint"),o=document.querySelector("#hint-placing"),i="allowedDevices: any",a=document.querySelector("a-scene"),c=document.querySelector("#forest-model"),s=document.querySelector("#forest-face"),u=document.querySelector("#forest-face1"),l=document.querySelector("#forest-face2"),d=document.querySelector("#gift-model"),p=document.querySelector("#cake-model"),m=document.querySelector("#gift-face"),b=document.querySelector("#gift-face1"),g=document.querySelector("#gift-face2"),f=document.querySelector("#back-btn"),y=document.querySelector("#reset-btn"),v=document.querySelector("#frame"),h=document.querySelector("#photoGroup"),I=document.getElementById("ripple-wrapper"),E=document.getElementById("preview-tag1"),S=document.getElementById("preview-tag2");E.style.display="none",S.style.display="none",I.style.display="none",document.getElementById("preview-img").style.display="none",document.getElementById("preview").style.display="none",h.setAttribute("position","2 1 -2"),h.setAttribute("scale","0 0 0");var A=5e3,R=null,T=null;r.style.display="none",B("#forest-model","reset"),B("#gift-model","reset"),B("#cake-model","reset"),c.setAttribute("visible",!1),s.setAttribute("visible",!1),u.setAttribute("visible",!1),l.setAttribute("visible",!1),d.setAttribute("visible",!1),p.setAttribute("visible",!1),m.setAttribute("visible",!1),b.setAttribute("visible",!1),g.setAttribute("visible",!1),h.setAttribute("visible",!1),v.setAttribute("visible",!1),document.getElementById("hint-countdown-num").style.display="none",o.style.display="none",$!==(D=e)&&(z="back"),z!==X&&("back"===z?(a.removeAttribute("xrface"),setTimeout(function(){a.setAttribute("xrweb",i)},100),a.setAttribute("xrweb",i)):"front"===z&&(a.removeAttribute("xrweb"),setTimeout(function(){a.setAttribute("xrface","mirroredDisplay: true; maxDetections: 3; meshGeometry: eyes, face, mouth; cameraDirection: front; allowedDevices: any;")},100)),X=z),document.getElementById("p1").style.display="none",0===D?E.style.display="block":1===D&&(S.style.display="block"),0===D&&"back"===z?(r&&(r.style.backgroundImage="url(".concat(t[0].hint,")")),o&&(o.style.backgroundImage="url(".concat(t[0].placing,")")),r.style.display="block",o.style.display="block",R=setTimeout(function(){o&&t[1]&&(o.style.backgroundImage="url(".concat(t[1].placing,")")),T=setTimeout(function(){o&&(o.style.display="none")},A)},A)):1===D&&"back"===z?(r&&(r.style.backgroundImage="url(".concat(n[0].hint,")")),o&&(o.style.backgroundImage="url(".concat(n[0].placing,")")),r.style.display="block",o.style.display="block",R=setTimeout(function(){o&&n[1]&&(o.style.backgroundImage="url(".concat(n[1].placing,")")),T=setTimeout(function(){o&&(o.style.display="none")},A)},A)):0===D&&"front"===z?(s.setAttribute("visible",!0),u.setAttribute("visible",!0),l.setAttribute("visible",!0),r.style.backgroundImage="url(".concat(t[2].hint,")")):1===D&&"front"===z&&(m.setAttribute("visible",!0),b.setAttribute("visible",!0),g.setAttribute("visible",!0),r.style.backgroundImage="url(".concat(n[2].hint,")")),a.addEventListener("click",function(){clearTimeout(R),clearTimeout(T),R=null,T=null,XR8.XrController.recenter(),0===D&&"back"===z?(I.style.display="block",c.setAttribute("visible",!0),r.style.backgroundImage="url(".concat(t[1].hint,")"),o.style.display="none"):1===D&&"back"===z&&(I.style.display="block",d.setAttribute("visible",!0),p.setAttribute("visible",!0),h.setAttribute("visible",!0),r.style.backgroundImage="url(".concat(n[1].hint,")"),o.style.display="none")}),y.addEventListener("click",function(){I.style.display="none",clearTimeout(R),clearTimeout(T),R=null,T=null,0===D&&"back"===z?(o&&t[1]&&(o.style.backgroundImage="url(".concat(t[1].placing,")")),o.style.display="block",c.setAttribute("visible",!1),B("#forest-model","reset"),r&&(r.style.backgroundImage="url(".concat(t[0].hint,")"))):1===D&&"back"===z&&(o.style.display="block",o&&n[1]&&(o.style.backgroundImage="url(".concat(n[1].placing,")")),B("#gift-model","reset"),B("#cake-model","reset"),d.setAttribute("visible",!1),p.setAttribute("visible",!1),h.setAttribute("visible",!1),v.setAttribute("visible",!1),r&&(r.style.backgroundImage="url(".concat(n[0].hint,")")))}),f.addEventListener("click",function(){I.style.display="none",0===D&&"back"===z?(c.setAttribute("visible",!1),B("#forest-model","reset"),document.getElementById("p1").style.display="flex",clearTimeout(R),clearTimeout(T)):1===D&&"back"===z?(d.setAttribute("visible",!1),p.setAttribute("visible",!1),h.setAttribute("visible",!1),v.setAttribute("visible",!1),B("#gift-model","reset"),B("#cake-model","reset"),document.getElementById("p1").style.display="flex",clearTimeout(R),clearTimeout(T)):"front"===z&&(document.getElementById("p1").style.display="flex")}),H("ÂàáÊèõÂà∞Á´ôÈªû ".concat(e+1," ")),$=D}function oe(){var e=document.querySelector("a-scene"),t=document.getElementById("ar-view");if(e&&t){var n=t.getBoundingClientRect(),r=n.width,o=n.height,i=window.devicePixelRatio||1,a=e.canvas;a&&(a.width=r*i,a.height=o*i,e.renderer.setSize(r*i,o*i,!1),e.camera.aspect=r/o,e.camera.updateProjectionMatrix())}}var ie=setInterval(function(){"undefined"==typeof XR8||R||(R=!0,function(){var e;H("‚úÖ XR8 Â∑≤ËºâÂÖ•ÂÆåÊàê"),null===C&&(C=Math.floor(3*Math.random())),null!=F.get("linelogin")&&("true"===F.get("linelogin")?(localStorage.setItem("linelogin","true"),P="true"):(localStorage.setItem("linelogin","false"),P="false")),null!=F.get("lan")?"en"===F.get("lan")?(localStorage.setItem("lan","en"),O="en"):"ch"===F.get("lan")&&(localStorage.setItem("lan","ch"),O="ch"):localStorage.setItem("lan","ch"),function(){A=h[O];var e=document.getElementById("p1"),t=document.getElementById("start-btn-1"),n=document.getElementById("start-btn-2"),r=document.getElementById("hint"),o=document.getElementById(" hint-placing"),i=document.getElementById("back-btn"),a=document.getElementById("capture-btn"),c=document.getElementById("record-btn"),s=document.getElementById("stop-rec-btn"),u=document.getElementById("reset-btn"),l=document.getElementById("switch-btn"),d=document.getElementById("p3"),p=document.getElementById("p4"),m=document.getElementById("result-back-btn"),b=document.getElementById("again-btn"),g=document.getElementById("save-btn"),f=document.querySelectorAll(".user-name");U!==O&&(e&&(e.style.backgroundImage="url(".concat(A.p1,")")),t&&(t.style.backgroundImage="url(".concat(A.startBtn1,")")),n&&(n.style.backgroundImage="url(".concat(A.startBtn2,")")),r&&(r.style.backgroundImage="url(".concat(A.hint,")")),o&&(o.style.backgroundImage="url(".concat(A.hintPlacing,")")),i&&(i.style.backgroundImage="url(".concat(A.btnBack,")")),a&&(a.style.backgroundImage="url(".concat(A.btnCapture,")")),c&&(c.style.backgroundImage="url(".concat(A.btnRecord,")")),s&&(s.style.backgroundImage="url(".concat(A.btnRecording,")")),u&&(u.style.backgroundImage="url(".concat(A.btnReset,")")),l&&(l.style.backgroundImage="url(".concat(A.btnSwitch,")")),d&&(d.style.backgroundImage="url(".concat(A.p3,")")),p&&(p.style.backgroundImage="url(".concat(A.p4,")")),m&&(m.style.backgroundImage="url(".concat(A.resultBtnBack,")")),b&&(b.style.backgroundImage="url(".concat(A.btnAgain,")")),g&&(g.style.backgroundImage="url(".concat(A.btnDownload,")")),f.forEach(function(e){e.textContent=A.displayName})),U=O}(),"true"===P?(function(){ee.apply(this,arguments)}(),H("LineÁôªÂÖ•")):(H("Ë®™ÂÆ¢"),K(C)),e=h["ch"===O?"en":"ch"],Object.values(e).forEach(function(e){(new Image).src=e}),window.XR8.addCameraPipelineModule({name:"request-gyro",requiredPermissions:function(){return[XR8.XrPermissions.permissions().DEVICE_ORIENTATION]}});var r=[n(7201),n(6122),n(1683),n(4284),n(6549)];document.getElementById("save-btn").addEventListener("click",function(){navigator.canShare&&navigator.canShare({files:[document.output]})?navigator.share({title:"LINE Pay 10th Âπ∏Á¶èÊôÇÂÖâÈ≠îÊ≥ïÊ£ÆÊûó",files:[document.output]}).then(function(){return H("ÂàÜ‰∫´ÊàêÂäü")}).catch(function(e){return H("ÂàÜ‰∫´Â§±Êïó")}):H("Ê≠§Ë£ùÁΩÆÊàñÁÄèË¶ΩÂô®‰∏çÊîØÊè¥Ê™îÊ°àÂàÜ‰∫´")}),document.getElementById("result-back-btn").addEventListener("click",function(){window.location.reload()}),document.getElementById("again-btn").addEventListener("click",function(){B("#gift-model","reset"),B("#cake-model","reset"),B("#forest-model","reset"),document.getElementById("p2").style.display="block",document.getElementById("p3").style.display="none",document.getElementById("p4").style.display="none",document.getElementById("record-btn").style.display="block",document.getElementById("back-btn").style.display="block",document.getElementById("switch-btn").style.display="block",document.getElementById("capture-btn").style.display="block",document.getElementById("reset-btn").style.display="block",document.getElementById("stop-rec-btn").style.display="none",document.getElementById("frame").setAttribute("visible",!1),["stop-rec-btn","back-btn","switch-btn","capture-btn","reset-btn"].forEach(function(e){var t=document.getElementById(e);t&&(t.disabled=!1,t.style.opacity="1")}),[{id:"preview",type:"video"},{id:"preview-img",type:"img"}].forEach(function(e){var t=document.getElementById(e.id);t&&t.src&&t.src.startsWith("blob:")&&(URL.revokeObjectURL(t.src),t.src="")}),setTimeout(function(){re(D),H("üîÑ Á≥ªÁµ±Â∑≤ÈáçÁΩÆÔºåÊ∫ñÂÇôÈÄ≤Ë°åÁ¨¨‰∫åÊ¨°ÈåÑÂΩ±")},300)}),XR8.MediaRecorder.configure({maxDurationMs:1e4,requestMic:"manual"}),XR8.CanvasScreenshot.configure({maxDimension:1920,jpgCompression:100}),XR8.addCameraPipelineModule(XR8.MediaRecorder.pipelineModule()),document.getElementById("record-btn").addEventListener("click",function(){if(document.getElementById("record-btn").style.display="none",document.getElementById("stop-rec-btn").style.display="block",document.getElementById("stop-rec-btn").disabled="true",document.getElementById("stop-rec-btn").style.opacity="0.5",document.getElementById("back-btn").disabled="true",document.getElementById("back-btn").style.opacity="0.5",document.getElementById("switch-btn").disabled="true",document.getElementById("switch-btn").style.opacity="0.5",document.getElementById("capture-btn").disabled="true",document.getElementById("capture-btn").style.opacity="0.5",document.getElementById("reset-btn").disabled="true",document.getElementById("reset-btn").style.opacity="0.5",L=!0,0===D&&"back"===z){document.getElementById("hint").style.backgroundImage="url(".concat(A.hintText,")"),B("#forest-model","play");var e=document.getElementById("hint-countdown-num");setTimeout(function(){var t=5,n=setInterval(function(){t--,document.getElementById("hint-countdown-num").style.display="block",document.getElementById("hint").style.backgroundImage="url(".concat(A.hintTextCountDown,")"),t>=0?e.style.backgroundImage="url(".concat(r[t],")"):clearInterval(n)},1e3)},4e3)}else 1===D&&"back"===z&&(document.getElementById("hint").style.display="none",B("#gift-model","play"),B("#cake-model","play"),setTimeout(function(){var e,t,n;document.querySelector("#photoGroup").emit("start-my-anim"),null!==C&&(H("ÈñãÂßãÊí≠Êîæframe"),e=document.querySelector("#frame"),t="#frame".concat(C+1),(n=document.querySelector(t)).currentTime=0,n&&n.play().then(function(){setTimeout(function(){e.setAttribute("visible",!0)},50)}))},4e3));var n;H("üìπ ÈñãÂßãÈåÑÂΩ±"),XR8.MediaRecorder.recordVideo({onVideoReady:function(e){document.output=new File([e.videoBlob],"LinePay2026.mp4",{type:"video/mp4"}),document.getElementById("p3").style.display="none",document.getElementById("p4").style.display="flex";var t=URL.createObjectURL(e.videoBlob),n=document.getElementById("preview");n.src&&n.src.startsWith("blob:")&&URL.revokeObjectURL(n.src),n.src=t,n.play(),n.style.display="block"},onStop:(n=t(o().mark(function e(){var t,n,r,i,a,c;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L=!1,document.getElementById("p3").style.display="flex",0!==D||"true"!==P){e.next=6;break}return e.prev=1,e.next=2,XR8.CanvasScreenshot.takeScreenshot();case 2:if(t=e.sent,n=I("data:image/jpeg;base64,".concat(t),"LinePay2026_capture.jpg","image/jpeg"),r=document.getElementById("gift-photo"),i="data:image/jpeg;base64,".concat(t),r&&(r.setAttribute("src",i),(a=document.querySelector("#gift-photo-model"))&&(a.setAttribute("src",""),a.setAttribute("src","#gift-photo"))),0!==D||"true"!==P){e.next=4;break}return e.next=3,te(n);case 3:H("‚úÖ ÂúñÁâá‰∏äÂÇ≥ÊàêÂäü");case 4:e.next=6;break;case 5:e.prev=5,c=e.catch(1),H("‚ùå ËôïÁêÜÈÅéÁ®ãÁôºÁîüÈåØË™§: ".concat(c));case 6:case"end":return e.stop()}},e,null,[[1,5]])})),function(){return n.apply(this,arguments)}),onError:function(e){H("onError"),window.console.log("error",e)},onProcessFrame:function(e){e.elapsedTimeMs,e.maxRecordingMs,e.ctx},onFinalizeProgress:function(e){var t=e.progress,n=e.total;document.getElementById("progress-bar").style.width="".concat(Math.round(t/n*87),"%")}})}),document.getElementById("capture-btn").addEventListener("click",function(){H("üì∏ Ëß∏ÁôºÊãçÁÖß"),document.getElementById("hint").style.display="none",document.getElementById("record-btn").style.display="none",document.getElementById("back-btn").style.display="none",document.getElementById("switch-btn").style.display="none",document.getElementById("capture-btn").style.display="none",XR8.canvasScreenshot().takeScreenshot().then(function(e){document.output=I("data:image/jpeg;base64,".concat(e),"LinePay2026.jpg","image/jpeg");var t=URL.createObjectURL(document.output),n="data:image/jpeg;base64,".concat(e);document.getElementById("p4").style.display="flex";var r=document.getElementById("preview-img");if(r.style.display="block",r.src=t,0===D&&"true"===P){te(document.output);var o=document.getElementById("gift-photo");if(o){o.crossOrigin="anonymous",o.setAttribute("src",n);var i=document.querySelector("#gift-photo-model");o&&i&&(i.setAttribute("src",""),i.setAttribute("src","#gift-photo"))}}},function(e){H(e)})}),document.getElementById("switch-btn").addEventListener("click",function(){var e=document.querySelector("a-scene"),t="back"===z?"front":"back";"back"===t?e.removeAttribute("xrface"):"front"===t&&e.removeAttribute("xrweb"),"back"===z?XR8.XrConfig.camera().BACK:XR8.XrConfig.camera().FRONT,z=t,setTimeout(function(){re(D),setTimeout(function(){oe(),XR8.XrController.recenter()},500)},300)})}()),null===document.querySelector("a-scene")||T||(T=!0,function(){H("DOM OK, myOnLoad");var e=document.querySelector("a-scene"),t=document.querySelector("#frame"),n=document.getElementById("start-btn-1"),r=document.getElementById("start-btn-2"),o=document.querySelector("#forest-model"),i=document.querySelector("#forest-face"),a=document.querySelector("#forest-face1"),c=document.querySelector("#forest-face2"),s=document.querySelector("#gift-model"),u=document.querySelector("#cake-model"),l=document.querySelector("#gift-face"),d=document.querySelector("#gift-face1"),p=document.querySelector("#gift-face2"),m=document.querySelector("#photoGroup"),b=document.getElementById("hint");document.getElementById("ripple-wrapper").style.display="none",o.setAttribute("visible",!1),i.setAttribute("visible",!1),a.setAttribute("visible",!1),c.setAttribute("visible",!1),s.setAttribute("visible",!1),u.setAttribute("visible",!1),l.setAttribute("visible",!1),d.setAttribute("visible",!1),p.setAttribute("visible",!1),m.setAttribute("visible",!1),t.setAttribute("visible",!0),b.style.display="none",m.setAttribute("position","2 1 -2"),m.setAttribute("scale","0 0 0"),n&&n.addEventListener("click",function(){re(0)}),r&&r.addEventListener("click",function(){re(1),q||M||function(e){M=!0;var t=document.querySelector("#frame"),n=document.getElementById("viewfinder-container"),r=n.offsetWidth,o=n.offsetHeight,i=.3,a=i,c=a*r/o,s=1;t.setAttribute("width",c),t.setAttribute("height",a);var u=setInterval(function(){c=(a=i)*r/o,t.setAttribute("width",c),t.setAttribute("height",a);var n=function(){var e=document.querySelector("a-scene");if(!e||!e.camera)return!1;var t=document.querySelector("#frame");if(!t)return!1;var n=e.renderer.domElement,r=(n.width,n.height,new THREE.Raycaster);return r.setFromCamera({x:-1,y:1},e.camera),r.intersectObject(t.object3D,!0).length>0}();e&&H(n),n?1===s?s=2:2===s?i-=.01:3===s&&(q=!0,clearInterval(u),H("frame size: ".concat(c,"x").concat(a))):1===s?i+=e?.01:.1:2===s?s=3:3===s&&(i+=.01)},0,0)}()}),setTimeout(oe,100),e.addEventListener("xrfacefound",function(e){document.getElementById("hint").style.display="none";var t=e.detail.id;H("ÂÅµÊ∏¨Âà∞ËáâÈÉ® ID: ".concat(t));var n=document.querySelector("#face".concat(t));n&&n.setAttribute("visible",!0)}),e.addEventListener("xrfacelost",function(e){"front"===z&&(L||(document.getElementById("hint").style.display="block"));var t=e.detail.id,n=document.querySelector("#face".concat(t));n&&n.setAttribute("visible",!1)}),window.addEventListener("resize",function(){W()}),W()}());var e=document.querySelector("a-scene video"),r=document.querySelector("a-camera");if(null===e||0===e.videoWidth||0===e.heightWidth||null===r);else if(!j){j=!0,r.getObject3D("camera");var i=document.getElementById("ar-view"),a=document.getElementById("viewfinder-container"),c=.633*a.offsetWidth/a.offsetHeight;i.setAttribute("width",c),i.setAttribute("height",.633)}R&&T&&j&&(clearInterval(ie),H("clear timer"),document.allinit=!0)},100)})()})();